
/** @license React SidePane v2.4.0
 * react-side-pane.cjs.js
 *
 * Copyright (c) Romain Coudour
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@babel/runtime/helpers/slicedToArray"),t=require("react"),n=require("react-focus-lock"),r=require("body-scroll-lock"),a=require("react-dom"),o=require("prop-types"),i=require("@babel/runtime/helpers/defineProperty"),d=require("react-transition-group");function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=c(e),l=c(t),u=c(n),f=c(o),p=c(i);function b(e,t,n,r){var a=0;return a=t&&(t>=e||e-t<n)?"right"===r?t+n:t-n:e,Math.min(a,100)}function m(e){return{WebkitTransition:"opacity ".concat(e,"ms ease-out"),OTransition:"opacity ".concat(e,"ms ease-out"),transition:"opacity ".concat(e,"ms ease-out")}}function y(e){return{WebkitTransition:"-webkit-transform ".concat(e,"ms ease-out"),OTransition:"transform ".concat(e,"ms ease-out"),transition:"transform ".concat(e,"ms ease-out, -webkit-transform ").concat(e,"ms ease-out")}}var h="SidePane_sidePane__2RWR-",v="SidePane_sidePane__backdrop__7KcYU",_="SidePane_sidePane__pane__9tRBZ";function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){p.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===n&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}(".SidePane_sidePane__2RWR-{bottom:0;height:100%;left:0;outline:none;position:fixed;right:0;top:0;width:100%;z-index:1000}.SidePane_sidePane__2RWR-:not([open]){display:none}.SidePane_sidePane__backdrop__7KcYU{-webkit-box-pack:end;-ms-flex-pack:end;background-color:rgba(0,0,0,.2);cursor:pointer;display:flex;flex-direction:row;height:inherit;pointer-events:auto;transition:opacity .25s ease-out;width:inherit;will-change:opacity}.SidePane_sidePane__backdrop__7KcYU[data-position=left]{justify-content:flex-start}.SidePane_sidePane__backdrop__7KcYU[data-position=right]{justify-content:flex-end}.SidePane_sidePane__backdrop__7KcYU[data-hide-backdrop=true]{background-color:transparent}.SidePane_sidePane__backdrop__7KcYU[data-disable-backdrop=true]{cursor:default}.SidePane_sidePane__pane__9tRBZ{background-color:#fff;box-shadow:0 0 20px rgba(0,0,0,.5);cursor:default;height:100%;max-height:100%;max-width:100%;overflow:hidden;pointer-events:auto;transition:transform .25s ease-out;will-change:transform}@media (prefers-reduced-motion:reduce){.SidePane_sidePane__backdrop__7KcYU,.SidePane_sidePane__pane__9tRBZ{transition:none}}");var P={transform:"translateX(100%)"},O=l.default.forwardRef((function(e,t){var n=e.ariaLabel,r=e.ariaLabelledby,a=e.ariaDescribedBy,o=e.autoWidth,i=e.children,c=e.className,s=e.duration,u=e.onEnter,f=e.onEntered,p=e.onExited,b=e.onExiting,m=e.open,h=e.position,v=e.style,g=e.translateValue,O=e.width,E=k(k({},function(e){return"right"===e?{entering:{transform:"translateX(100%)"},entered:{transform:"translateX(0%)"},exiting:{transform:"translateX(100%)"},exited:{transform:"translateX(100%)"}}:{entering:{transform:"translateX(-100%)"},entered:{transform:"translateX(0%)"},exiting:{transform:"translateX(-100%)"},exited:{transform:"translateX(-100%)"}}}(h)),{},{entered:{transform:"translateX(100%) translateX(-".concat(g,"vw)")}});return l.default.createElement(d.Transition,{mountOnEnter:!0,in:m,timeout:{appear:0,enter:0,exit:s},onEnter:u,onEntered:f,onExited:p,onExiting:b},(function(e){return l.default.createElement("div",{ref:t,"aria-describedby":a||null,"aria-label":n||"side pane","aria-labelledby":r||null,"aria-modal":"true",className:"".concat(_," ").concat(c),role:"dialog",style:k(k(k(k(k({},P),E[e]),y(s)),v),{},{width:o?"auto":"".concat(Math.min(O,100),"%")})},i)}))}));function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){p.default(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){var n=e.children,r=e.className,a=e.disableBackdropClick,o=e.duration,i=e.hideBackdrop,d=e.onClose,c=e.position,s=e.style,u=t.useRef(null);return l.default.createElement("div",{ref:u,"aria-label":"backdrop","data-position":c,className:"".concat(v," ").concat(r),"data-disable-backdrop":a,"data-hide-backdrop":i,role:"presentation",style:w(w({},m(o)),s),onClick:function(e){var t=e.target,n=u.current;a||t!==n||d()}},n)}var j=function(e,t){var n=document.getElementById(e);n&&n.getAttribute("aria-hidden")!==t&&n.setAttribute("aria-hidden",t)};function S(e){var n=e.appNodeId,o=void 0===n?"root":n,i=e["aria-describedby"],d=void 0===i?"":i,c=e["aria-label"],f=void 0===c?"side pane":c,p=e["aria-labelledby"],m=void 0===p?"":p,y=e.autoWidth,v=void 0!==y&&y,_=e.backdropClassName,g=void 0===_?"":_,k=e.backdropStyle,P=void 0===k?{}:k,E=e.children,w=e.className,S=void 0===w?"":w,R=e.containerId,B=void 0===R?"":R,C=e.disableBackdropClick,N=void 0!==C&&C,D=e.disableEscapeKeyDown,X=void 0!==D&&D,q=e.disableRestoreFocus,T=void 0!==q&&q,W=e.duration,A=void 0===W?250:W,K=e.hideBackdrop,I=void 0!==K&&K,L=e.offset,U=void 0===L?10:L,Y=e.onActive,F=void 0===Y?null:Y,M=e.onClose,V=e.open,Z=void 0!==V&&V,z=e.position,G=void 0===z?"right":z,H=e.style,J=void 0===H?{}:H,Q=e.width,$=void 0===Q?0:Q,ee=t.useRef(null),te=t.useRef(null),ne=t.useRef(null),re=t.useRef($),ae=t.useRef(b(re.current,0,U,G)),oe=t.useState(!1),ie=s.default(oe,2),de=ie[0],ce=ie[1],se=t.useMemo((function(){return B?document.getElementById(B):document.body}),[B]);t.useEffect((function(){var e=ee.current,t=function(e){var t=e.code,n=e.key,r=e.keyCode,a=t||n||r;["Escape","Esc",27].some((function(e){return e===a}))&&"function"==typeof M&&M()};return!X&&de&&(null==e||e.addEventListener("keydown",t)),function(){null==e||e.removeEventListener("keydown",t)}}),[de,X,M]),t.useEffect((function(){var e=ee.current;Z||de?r.disableBodyScroll(e):r.enableBodyScroll(e)}),[Z,de]);var le,ue=t.useCallback((function(e){ae.current=e,te.current.style.transform="translateX(+100%) translateX(-".concat(e,"vw)"),"function"==typeof F&&F(e)}),[F]),fe=t.useCallback((function(e){var t;j(o,"true"),null===(t=ee.current)||void 0===t||t.setAttribute("aria-hidden",(!!e).toString()),ue(b(re.current,e,U,G))}),[o,U,ue]),pe=Z||de,be=(le={onActive:fe},v&&(le.ref=ne),le);return a.createPortal(l.default.createElement(u.default,{autoFocus:!0,disabled:!pe,returnFocus:!T,shards:[ee.current],whiteList:function(e){return se.contains(e)}},l.default.createElement("div",{ref:ee,className:h,open:pe,tabIndex:-1},l.default.createElement(x,{className:g||"",disableBackdropClick:N,duration:A,hideBackdrop:I,position:G,style:P||{},onClose:M},l.default.createElement(O,{ref:te,ariaDescribedBy:d,ariaLabel:f,ariaLabelledby:m,autoWidth:v,className:S||"",duration:A,open:Z,style:J||{},translateValue:ae.current,width:$,position:G,onEnter:function(){j(o,"true"),ee.current.focus(),ce(!0)},onEntered:function(){if(v){var e=(ne.current?ne.current.getBoundingClientRect().width:0)/document.body.clientWidth*100;re.current=e}else re.current=$;ue(b(re.current,0,U,G))},onExited:function(){return ce(!1)},onExiting:function(){"function"==typeof F?F(0):j(o,"false")}},de&&("function"==typeof E?E({onActive:fe}):l.default.cloneElement(l.default.Children.only(E),be)))))),se)}S.propTypes="production"!==process.env.NODE_ENV?{appNodeId:f.default.string,"aria-describedby":f.default.string,"aria-label":f.default.string,"aria-labelledby":f.default.string,autoWidth:f.default.bool,backdropClassName:f.default.string,backdropStyle:f.default.object,children:f.default.oneOfType([f.default.func,f.default.element]).isRequired,className:f.default.string,containerId:f.default.string,disableBackdropClick:f.default.bool,disableEscapeKeyDown:f.default.bool,disableRestoreFocus:f.default.bool,duration:f.default.number,hideBackdrop:f.default.bool,offset:f.default.number,onActive:f.default.func,onClose:f.default.func.isRequired,open:f.default.bool.isRequired,position:f.default.string,style:f.default.object,width:f.default.number}:{},exports.SidePane=S;
